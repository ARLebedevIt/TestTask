"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[847],{856:function(e,t,n){n.d(t,{$:function(){return r}});var r=n(1243).Z.create({baseURL:"https://jsonplaceholder.typicode.com/",headers:{"Content-type":"application/json; charset=UTF-8"}})},7289:function(e,t,n){n.d(t,{G:function(){return s}});var r=n(856),s={getPosts:function(e,t){return r.$.get("posts?_limit=".concat(e,"&_page=").concat(t)).then((function(e){return e.data})).catch((function(e){return e}))},getUserPosts:function(e,t,n){return r.$.get("posts?userId=".concat(e,"&_limit=").concat(t,"&_page=").concat(n)).then((function(e){return e.data})).catch((function(e){return e}))},getCurrPost:function(e){return r.$.get("posts/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))}}},6692:function(e,t,n){n.d(t,{h:function(){return s}});var r=n(856),s={getUsers:function(e){return r.$.get("users?_page=".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))},getCurrUser:function(e){return r.$.get("users/".concat(e)).then((function(e){return e.data})).catch((function(e){return e}))}}},8385:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(9439),s=n(2791),c=n(3433),i=n(4165),a=n(5861),u=n(7689),o=n(1614),l=n(4554),d=n(890),x=n(184),f=function(e){var t=e.post,n=(0,u.s0)();return(0,x.jsx)(o.Z,{disableGutters:!0,maxWidth:!1,onClick:function(){return n("/posts/".concat(t.id),{replace:!1})},children:(0,x.jsxs)(l.Z,{sx:{display:"flex",gap:"10px",flexDirection:"column"},children:[(0,x.jsx)(l.Z,{children:(0,x.jsx)(d.Z,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ".concat(t.title)})}),(0,x.jsx)(l.Z,{children:(0,x.jsx)(d.Z,{children:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435: ".concat(t.body)})})]})})},p=n(7289),h=n(493),m=n(5021),Z=n(6278),j=n(3967),g=n(3543),v=n(9658),b=n(7084),U=n(1087),y=(0,s.memo)((function(e){var t=e.posts,n=e.setPosts,y=e.currUser,k=e.setUser,w=e.currLimit,C=(0,j.Z)().palette.mode,L=(0,U.lr)(),P=(0,r.Z)(L,2),D=P[0],I=P[1],S=(0,s.useState)(1),G=(0,r.Z)(S,2),_=G[0],$=G[1],E=(0,s.useState)(!1),R=(0,r.Z)(E,2),H=R[0],W=R[1],O=(0,u.TH)(),z={page:_},F=(0,s.useState)(!1),T=(0,r.Z)(F,2),V=T[0],Y=T[1],q=(0,b.YD)({threshold:0}),A=q.ref,B=q.inView;return(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=y){e.next=7;break}return e.next=3,p.G.getPosts(w,"".concat(_));case 3:t=e.sent,n(t),delete z.userId,I(new URLSearchParams(z));case 7:if(null==y){e.next=17;break}return $(1),r=_,z.page=r,z.userId=y,e.next=14,p.G.getUserPosts(y,w,+_>1?"0":"".concat(_));case 14:s=e.sent,n(s),I(new URLSearchParams(z));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[y,w]),(0,s.useEffect)((function(){I(O.search);var e=Object.fromEntries((0,c.Z)(D));+e.userId<=10?k(e.userId):+e.userId>10&&(W(!0),k(null))}),[D]),(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!B){e.next=17;break}if($(++_),t=_,z.page=t,!y){e.next=11;break}return e.next=7,p.G.getUserPosts(y,w,"".concat(_));case 7:r=e.sent,z.userId=y,e.next=14;break;case 11:return e.next=13,p.G.getPosts(w,"".concat(_));case 13:r=e.sent;case 14:n((function(e){return[].concat((0,c.Z)(e),(0,c.Z)(r))})),r.length<1&&Y(!0),I(new URLSearchParams(z));case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[B]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(o.Z,{maxWidth:!1,children:[(0,x.jsx)(h.Z,{sx:{display:"flex",gap:"20px",flexDirection:"column"},children:null===t||void 0===t?void 0:t.map((function(e){return(0,x.jsx)(m.ZP,{disablePadding:!0,sx:{border:"2px solid ".concat("dark"==C?"grey":"#1976D2"),borderRadius:"5px"},children:(0,x.jsx)(Z.Z,{sx:{display:"inline"},children:(0,x.jsx)(f,{post:e})})},e.id)}))}),t&&(0,x.jsx)(l.Z,{ref:A,sx:{height:"1px"}}),(0,x.jsx)(g.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:V,autoHideDuration:6e3,onClose:function(){return Y(!1)},children:(0,x.jsx)(v.Z,{onClose:function(){return Y(!1)},severity:"info",sx:{width:"100%",backgroundColor:"#0288D1",color:"#fff"},children:(0,x.jsx)(d.Z,{children:"\u0412\u0441\u0435 \u043f\u043e\u0441\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b!"})})}),(0,x.jsx)(g.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:H,onClose:function(){return W(!1)},autoHideDuration:5e3,children:(0,x.jsx)(v.Z,{onClose:function(){return W(!1)},severity:"error",children:(0,x.jsx)(d.Z,{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"})})})]})})})),k=y,w=n(4925),C=n(9891),L=n(8096),P=n(7787),D=n(6151),I=n(6692),S=(0,s.memo)((function(e){var t=e.setUser,n=e.currUser,c=(0,j.Z)().palette.mode,u=(0,s.useState)(null),o=(0,r.Z)(u,2),l=o[0],d=o[1];return(0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.h.getUsers("".concat(1));case 2:t=e.sent,d(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,x.jsxs)(L.Z,{sx:{display:"flex",gap:"20px"},children:[(0,x.jsx)(w.Z,{id:"demo-simple-select-label",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,x.jsx)(P.Z,{sx:{width:"250px"},labelId:"demo-simple-select-label",id:"demo-simple-select",label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",value:n,onChange:function(e){return t(e.target.value)},children:null===l||void 0===l?void 0:l.map((function(e){return(0,x.jsx)(C.Z,{value:e.id,children:e.name},e.id)}))}),(0,x.jsx)(D.Z,{sx:{border:".1px solid ".concat("dark"==c?"grey":"#1976D2")},variant:"text",onClick:function(){return t(null)},children:"\u0412\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"})]})})),G=S,_=(0,s.memo)((function(e){var t=e.currLimit,n=e.setLimit;return(0,x.jsxs)(L.Z,{children:[(0,x.jsx)(w.Z,{id:"demo-simple-select-label",children:"\u041b\u0438\u043c\u0438\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432"}),(0,x.jsx)(P.Z,{sx:{width:"250px"},labelId:"demo-simple-select-labels",id:"demo-simple-select",label:"\u041b\u0438\u043c\u0438\u0442 \u043f\u043e\u0441\u0442\u043e\u0432",value:t,onChange:function(e){return n(e.target.value)},children:["10","15","20","25","30"].map((function(e){return(0,x.jsx)(C.Z,{value:e,children:e},e)}))})]})})),$=function(e){var t=e.setUser,n=e.currUser,r=e.currLimit,s=e.setLimit;return(0,x.jsx)(o.Z,{maxWidth:!1,disableGutters:!0,children:(0,x.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",gap:"20px"},children:[(0,x.jsx)(_,{currLimit:r,setLimit:s}),(0,x.jsx)(G,{currUser:n,setUser:t})]})})},E=(0,s.memo)((function(){var e=(0,s.useState)(null),t=(0,r.Z)(e,2),n=t[0],c=t[1],i=(0,s.useState)(null),a=(0,r.Z)(i,2),u=a[0],d=a[1],f=(0,s.useState)("20"),p=(0,r.Z)(f,2),h=p[0],m=p[1];return(0,x.jsx)(o.Z,{disableGutters:!0,maxWidth:"xl",sx:{mt:"20px",minHeight:"100vh"},children:(0,x.jsxs)(l.Z,{sx:{px:"20px",gap:"30px",display:"flex",flexDirection:{xs:"column",md:"row"}},children:[(0,x.jsx)(l.Z,{children:(0,x.jsx)($,{setLimit:m,currLimit:h,currUser:u,setUser:d})}),(0,x.jsx)(l.Z,{children:(0,x.jsx)(k,{currLimit:h,currUser:u,setUser:d,setPosts:c,posts:n})})]})})}))}}]);
//# sourceMappingURL=Posts.60ecc3c7.chunk.js.map